<?xml version="1.0" encoding="UTF-8" ?>

<!-- YOU SHOULD NOT NEED TO MODIFY THIS FILE -->

<Objects>

<!--
**********************************
*** Objectclass Specifications ***
**********************************

LDAP Object specifications are preconfigured for Novell eDirectory, OpenLDAP,
Microsoft Active Directory and RCDevs Directory Server.
WARNING: Do not edit this file unless you really know what you are doing!
Modifying the specifications might cause WebADM not to work correctly!

Define here the WebADM objects you want to customize.
Allowed parameters are:
 - desc: object friendly name that appears instead os the real attribute name
 - icon: icon image
 - auxclasses: auxilliary LDAP object classes
   An WebADM object can be composed of a set of objects.
 - extensions: object classes which appear in the 'Add Extension' when editing
   an object
   You can extend any object with any other objectclass in advanced mode
 - help: useful information about the object type
 
Note: Any object defined here is creatable in WebADM creation wizards.
-->

<ObjectClass name="$webadm_config_oclasses"
	     desc="WebADM Config Object"
	     help="OptionSet, Mountpoint, Domain, Client..." />

<ObjectClass name="$webadm_account_oclasses"
       	     desc="WebADM Account"
	     icon="waaccount.png"
	     auxclasses="user, person, inetorgperson, securityprincipal"
	     help="LDAP user with WebADM attributes" />

<!-- Active Directory User -->
<ObjectClass name="user"
	     desc="User / Administrator"
	     icon="ntuser.png"
	     auxclasses="person, inetorgperson, securityprincipal"
	     extensions="webadmaccount, posixaccount, inetorgperson"
	     overrides="person"
	     help="Administrator or Domain user" />

<!-- Active Directory Container -->
<ObjectClass name="container"
	     desc="Container"
	     icon="container.png"
	     help="LDAP generic container" />

<!-- Active Directory Group -->
<ObjectClass name="group"
	     desc="Group"
	     icon="group.png"
	     auxclasses="securityprincipal"
	     extensions="webadmgroup, posixgroup"
	     overrides="groupofnames, dynamicgroup, groupofurls"
	     help="LDAP group of users" />

<!-- Novell / OpenLDAP User -->
<ObjectClass name="person"
	     desc="User / Administrator"
	     icon="user.png"
	     auxclasses="inetorgperson"
	     extensions="webadmaccount, posixaccount, inetorgperson"
	     help="Administrator or LDAP user" />

<!-- Novell / OpenLDAP Group -->
<ObjectClass name="groupofnames"
             desc="Static Group"
	     icon="group.png"
	     extensions="webadmgroup, posixgroup, dynamicgroup"
	     help="LDAP group of users" />

<!-- Novell Dynamic Group -->
<ObjectClass name="dynamicgroup"
	     desc="Dynamic Group"
	     icon="group.png"
	     auxclasses="groupofnames"
	     help="LDAP group with dynamic contents" />

<!-- OpenLDAP Dynamic Group -->
<ObjectClass name="groupofurls"
	     desc="Dynamic Group"
	     icon="group.png"
	     extensions="webadmgroup, posixgroup"
	     help="LDAP group with dynamic contents" />

<!-- Unix User -->
<ObjectClass name="posixaccount"
	     desc="UNIX Account"
	     icon="user.png"
	     auxclasses="user, person, inetorgperson, securityprincipal"
	     extensions="webadmaccount"
	     help="UNIX POSIX Account" />

<!-- Unix Group -->
<ObjectClass name="posixgroup"
	     desc="UNIX Group"
	     icon="group.png"
	     auxclasses="group, groupofnames, securityprincipal"
	     extensions="webadmgroup"
	     help="UNIX POSIX Group" />

<ObjectClass name="contact"
	     desc="Contact"
	     icon="contact.png"
	     auxclasses="person"
	     help="LDAP contact" />

<ObjectClass name="organizationalunit"
	     desc="Organizational Unit"
	     icon="organizational_unit.png"
	     help="LDAP organizational unit container" />

<ObjectClass name="organization"
	     desc="Organisation"
	     icon="organization.png"
	     help="LDAP organization container" />

<ObjectClass name="country"
	     desc="Country"
	     icon="country.png"
	     help="LDAP country container" />

<ObjectClass name="domain"
	     desc="Domain"
	     icon="domain.png"
	     help="LDAP domain container" />

<!-- OpenLDAP Password Policy Object -->
<ObjectClass name="pwdpolicy"
	     desc="Password Policy"
	     icon="default.png"
	     auxclasses="person"
	     help="LDAP password policy configuration" />

<!--
********************************
*** Attribute Specifications ***
********************************

Define here LDAP attributes you want to customize.

Allowed parameters are:
 - advanced: if true, the attribute appears only in advanced editing mode
 - searchable: defines if the attribute should appear in the searchable
   attributes in the simple search form
 - help: useful information about the attribute
 - handler: PHP handler file to be used for rendring the attribute value
   Different handlers wan be used for attribute creation, addition and editing
 - values: list of available values (if handler supports values)
 - binary: set yes if the attribute has to be stored in LDAP in a binary format
   This is necessary for 'usercertificate' attribute with OpenLDAP
 - encoding: Attribute encoding/formatting.
   Valid encoding: crypt, shaxxx, sshaxxx, hex, base32, base64...
   Other encoding: smbpasswd (Samba), adspasswd (Active Directory) 

Note Any attributes defined here is displayed in the normal editing mode.
Note: Set an XML content if you want to assign a default value for an attribute. 
-->

<Attribute name="cn"
	   desc="Common Name"
	   naming="yes"
	   searchable="yes" />

<Attribute name="dn"
	   desc="Distinguished Name"
	   searchable="yes"
	   handler="dn.php" />
	   
<Attribute name="description"
	   desc="Description / Note"
	   searchable="yes" />

<Attribute name="sn"
	   desc="Last Name" />
	   
<Attribute name="givenname"
	   desc="First Name" />
	   
<Attribute name="fullname"
	   desc="Full Name"
	   searchable="yes" />

<Attribute name="dc, domaincomponent"
	   desc="Domain"
	   help="This is a LDAP Domain object (dc) and not a WebADM Login Domain"
	   naming="yes"/>

<Attribute name="c"
	   desc="Country"
	   naming="yes"/>

<Attribute name="o"
	   desc="Organization"
	   naming="yes"/>
	   
<Attribute name="ou"
	   desc="Organizational Unit"
	   naming="yes"/>

<Attribute name="$mail_attrs"
	   desc="Email Address"
	   handler="mail.php" 
	   searchable="yes" />

<Attribute name="preferredlanguage"
	   desc="Preferred Language"
	   handler="language.php"
	   searchable="yes"
	   overrides="language" />

<Attribute name="language"
	   desc="Language"
	   handler="language.php"
	   searchable="yes" />

<Attribute name="acl"
	   desc="Permissions"
	   handler="nds_acl.php" />
	   
<!-- If you want LDAP user DN to be set in the form uid=user,... then
add the naming="yes" parameter and move the 'uid' definition block before
the 'cn' definition block in this file. -->
<Attribute name="uid"
           desc="Login Name"
	   searchable="yes"
	   handler="uid.php" />

<Attribute name="$mobile_attrs"
	   desc="Mobile Phone Number"
	   help="Use international format with space separator (ex. +33 612345678)."
	   searchable="yes"
	   handler="mobile.php" />

<Attribute name="$webadm_data_attrs"
           desc="WebADM User Data"
	   handler="webadm_data.php" />

<Attribute name="$webadm_type_attrs"
	   desc="WebADM Object Type"
	   handler="webadm_type.php" />
	   
<Attribute name="$webadm_settings_attrs"
	   desc="WebADM Settings"
	   handler="webadm_settings.php" />

<Attribute name="dgidentity"
	   desc="Dynamic Group Query Identity"
	   handler="nds_dgidentity.php" />

<Attribute name="$member_attrs"
	   desc="Group Member"
	   handler="member.php" />

<Attribute name="$memberof_attrs"
	   desc="Group Membership"
	   handler="memberof.php" />

<Attribute name="$memberuid_attrs"
	   desc="Group Member UID"
	   help="Posix Group member UID and not LDAP DN."
	   handler="memberuid.php" />

<Attribute name="excludedmember"
	   desc="Excluded Member"
	   handler="member.php" />

<Attribute name="memberqueryurl, memberurl"
	   desc="Dynamic Member Query URL"
	   handler="nds_memberqueryurl.php" />

<Attribute name="userpassword"
	   desc="Password"
	   handler="password.php"
	   advanced="yes" />
<!--
With Novell eDirectory, do not specify an encoding.
With OpenLDAP, you can use crypt, md5 or sha1 encoding.
With RCDevs Directory Server the OpenLDAP ppolicy handles
the password encoding at the LDAP level.
-->

<Attribute name="usercertificate"
	   desc="User Certificate"
	   binary="yes"
	   handler="usercertificate.php" />

<Attribute name="uidnumber"
	   desc="UID Number"
	   searchable="yes"
	   handler="uidnumber.php">500</Attribute>

<Attribute name="gidnumber"
	   desc="GID Number"
	   searchable="yes"
	   handler="gidnumber.php">100</Attribute>

<Attribute name="loginshell"
           desc="Login Shell"
           values="/bin/sh,/bin/bash,/bin/tcsh,/sbin/nologin"
           handler="loginshell.php">/bin/bash</Attribute>

<Attribute name="homedirectory"
	   desc="Home Directory"
	   handler="homedirectory.php" />

<Attribute name="gecos"
	   desc="General Information" />

<!-- Active Directory Attributes -->
<Attribute name="samaccountname"
	   desc="Login Name"
	   handler="uid.php"
	   searchable="yes"
	   overrides="uid" />

<Attribute name="userprincipalname"
	   desc="Principal Name"
	   handler="uid.php"
	   searchable="yes" />

<Attribute name="samaccounttype"
	   desc="Account Type"
	   handler="ad_samaccounttype.php" />

<Attribute name="useraccountcontrol"
           desc="Account Flags"
	   handler="ad_useraccountcontrol.php">512</Attribute>

<Attribute name="lockouttime"
           desc="Lockout Time"
           handler="ad_locktime.php" />
	   
<Attribute name="objectsid"
           desc="Object SID"
	   binary="yes"
           handler="ad_objectsid.php" />

<Attribute name="objectguid"
           desc="Object GUID"
	   binary="yes"
           handler="ad_objectguid.php" />

<Attribute name="unicodepwd"
	   desc="AD Password"
	   handler="password.php"
	   overrides="userpassword"
       	   encoding="adspasswd" />

<Attribute name="grouptype"
           desc="Group Type"
	   handler="ad_grouptype.php"
	   overrides="userpassword" />

<!--
<Attribute name="instancetype"
           desc="Instance Type"
	   handler="ad_instancetype.php" />
-->

<Attribute name="whencreated"
           desc="Account Created"
	   handler="ad_datetime2.php" />

<Attribute name="whenchanged"
           desc="Account Modified"
	   handler="ad_datetime2.php" />

<Attribute name="lastlogon"
           desc="Last Logon"
	   handler="ad_datetime.php" />

<Attribute name="lastlogoff"
           desc="Last Logoff"
	   handler="ad_datetime.php" />

<Attribute name="accountexpires"
           desc="Account Expires"
	   handler="ad_locktime.php" />

<Attribute name="pwdlastset"
           desc="Last Password Set"
	   handler="ad_datetime.php" />

<Attribute name="badpasswordtime"
           desc="Last Bad Logon Password"
	   handler="ad_datetime.php" />

<Attribute name="logoncount"
           desc="Logon Count"
	   handler="readonly.php" />

<!-- Samba Attributes -->
<Attribute name="sambantpassword"
	   desc="Samba Password"
	   handler="password.php"
       	   encoding="smbpasswd" />

<!-- OpenLDAP ppolicy Attributes -->
<Attribute name="pwdattribute"
	   desc="Password Attribute"
	   help="This holds the name of the LDAP attribute to which the password policy
	   is applied.">userPassword</Attribute>

<Attribute name="pwdcheckquality"
	   desc="Password Check Policy"
	   help="This attribute indicates how the password policy will be verified while.\n
	   0 means password policy will not be enforced.\n
	   1 indicates that the server will check the policy, and if the server is unable
	   to check it (due to a hashed password or other reasons) it will be accepted.\n
	   2 indicates that the server will check the policy, and if the server is unable
	   to verify it, it will return an error refusing the password.\n
	   IMPORTANT: This setting is mandatory for the ppolicy to be enforced!"
	   values="0,1,2"
	   handler="list.php">2</Attribute>

<Attribute name="pwdminage"
	   desc="Password Min Age"
	   help="This attribute holds the number of seconds that must elapse between
	   modifications to the password."
	   handler="number.php" />

<Attribute name="pwdmaxage"
	   desc="Password Max Age"
	   help="This attribute holds the number of seconds after which a modified 
	   password will expire.\n
	   IMPORTANT: This setting impacts WebADM LDAP proxy user too! Use only with 
	   extreme caution."
	   handler="number.php" />

<Attribute name="pwdinhistory"
	   desc="Password History"
	   help="This attribute specifies the maximum number of used passwords stored
	   in the pwdHistory attribute.\n
	   Passwords in the history cannot be reused."
	   values="1,3,5,10"
	   handler="list.php" />

<Attribute name="pwdminlength"
	   desc="Password Min Length"
	   help="When quality checking is enabled, this attribute holds the minimum
	   number of characters that must be used in a password."
	   values="4,6,8,10"
	   handler="list.php" />

<Attribute name="pwdlockout"
	   desc="Password Lockout"
	   help="This attribute indicates, when its value is TRUE, that the password may
	   not be used to authenticate after a specified number of consecutive failed
	   bind attempts.\n
	   The maximum number of consecutive failed attempts is specified in pwdMaxFailure."
	   handler="boolean.php" />

<Attribute name="pwdlockoutduration"
	   desc="Password Lockout Duration"
	   help="This attribute holds the number of seconds that the password cannot
	   be used to authenticate due to too many failed bind attempts."
	   values="60,300,600,900,1800,3600"
	   handler="list.php" />

<Attribute name="pwdfailurecountinterval"
	   desc="Password Failure Count Interval"
	   help="This attribute holds the number of seconds after which the password
	   failures are purged from the failure counter, even though no successful
	   authentication occurred."
	   values="60,300,600,900,1800,3600"
	   handler="list.php" />

<Attribute name="pwdallowuserchange"
	   desc="Password Allow User Change"
	   help="This attribute indicates whether users can change their password,
	   although the change operation is still subject to access control."
	   handler="boolean.php" />

<!--
<Attribute name="pwdmaxfailure"
	   desc="Password Max Failures"
	   help="This attribute holds the number of failed login allowed before the
	   account is locked."
	   values="1,3,5,10"
	   handler="list.php" />
-->

<Attribute name="pwdpolicysubentry"
           desc="Password Policy Object"
           help="This attribute indicates which password policy object applies to
           the user (overriding the default slapd ppolicy object)."
           handler="dn.php" />

</Objects>
